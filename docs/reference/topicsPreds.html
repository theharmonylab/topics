<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Predict topic distributions — topicsPreds • topics</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predict topic distributions — topicsPreds"><meta name="description" content="The function to predict the topics of a new document with the trained model."><meta property="og:description" content="The function to predict the topics of a new document with the trained model."><meta property="og:image" content="https://r-topics.org/logo.png"><script defer data-domain="r-talk.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">topics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.62</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/topics.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/extended_installation_guide.html">Extended Installation Guide</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/theharmonylab/topics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Predict topic distributions</h1>
      <small class="dont-index">Source: <a href="https://github.com/theharmonylab/topics/blob/HEAD/R/2_1_1_topicsModel_Pred.R" class="external-link"><code>R/2_1_1_topicsModel_Pred.R</code></a></small>
      <div class="d-none name"><code>topicsPreds.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function to predict the topics of a new document with the trained model.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">topicsPreds</span><span class="op">(</span></span>
<span>  <span class="va">model</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  num_iterations <span class="op">=</span> <span class="fl">200</span>,</span>
<span>  sampling_interval <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  burn_in <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span>,</span>
<span>  create_new_dtm <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>(list) The trained model.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>(tibble) The text variable for which you want to infer the topic distribution. This can be the same data as used to create the dtm or new data.</p></dd>


<dt id="arg-num-iterations">num_iterations<a class="anchor" aria-label="anchor" href="#arg-num-iterations"></a></dt>
<dd><p>(integer) The number of iterations to run the model.</p></dd>


<dt id="arg-sampling-interval">sampling_interval<a class="anchor" aria-label="anchor" href="#arg-sampling-interval"></a></dt>
<dd><p>The number of iterations between consecutive samples collected.
during the Gibbs Sampling process. This technique, known as thinning, helps reduce the
correlation between consecutive samples and improves the quality of the final estimates
by ensuring they are more independent.
Purpose: By specifying a sampling_interval, you avoid collecting highly correlated samples, which can
lead to more robust and accurate topic distributions.
Example: If sampling_interval = 10, the algorithm collects a
sample every 10 iterations (e.g., at iteration 10, 20, 30, etc.).
Typical Values: Default: 10; Range: 5 to 50 (depending on the complexity and size of the data).</p></dd>


<dt id="arg-burn-in">burn_in<a class="anchor" aria-label="anchor" href="#arg-burn-in"></a></dt>
<dd><p>The number of initial iterations discarded during the Gibbs Sampling process.
These early iterations may not be representative of the final sampling distribution because the model is still stabilizing.
Purpose: The burn_in period allows the model to converge to a more stable state before collecting samples,
improving the quality of the inferred topic distributions.
Example: If burn_in = 50, the first 50 iterations of the Gibbs Sampling process are discarded,
and sampling begins afterward. Typical Values: Default: 50 to 100
Range: 10 to 1000 (larger datasets or more complex models may require a longer burn-in period).</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>(integer) A seed to set for reproducibility.</p></dd>


<dt id="arg-create-new-dtm">create_new_dtm<a class="anchor" aria-label="anchor" href="#arg-create-new-dtm"></a></dt>
<dd><p>(boolean) If applying the model on new data (not used in training), it can help to make a new dtm.
Currently this is experimental, and using the textmineR::CreateDtm() function rather than the topicsDtm() function, which has more functions.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble of the predictions: The rows represent the documents, and the columns represent the topics. The values in the cells indicate the proportion of each topic within the corresponding document.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Predict topics for new data with the trained model</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">dtm</span> <span class="op">&lt;-</span> <span class="fu"><a href="topicsDtm.html">topicsDtm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>data <span class="op">=</span> <span class="va">dep_wor_data</span><span class="op">$</span><span class="va">Depphrase</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="topicsModel.html">topicsModel</a></span><span class="op">(</span>dtm <span class="op">=</span> <span class="va">dtm</span>, <span class="co"># output of topicsDtm()</span></span></span>
<span class="r-in"><span>                     num_topics <span class="op">=</span> <span class="fl">20</span>,</span></span>
<span class="r-in"><span>                     num_top_words <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>                     num_iterations <span class="op">=</span> <span class="fl">1000</span>,</span></span>
<span class="r-in"><span>                     seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span></span>
<span class="r-in"><span>                     </span></span>
<span class="r-in"><span><span class="va">preds</span> <span class="op">&lt;-</span> <span class="fu">topicsPreds</span><span class="op">(</span>model <span class="op">=</span> <span class="va">model</span>, <span class="co"># output of topicsModel()</span></span></span>
<span class="r-in"><span>                     data <span class="op">=</span> <span class="va">dep_wor_data</span><span class="op">$</span><span class="va">Depphrase</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://leonackermann.github.io/" class="external-link">Leon Ackermann</a>, <a href="https://portal.research.lu.se/sv/persons/zhuojun-gu" class="external-link">Zhuojun Gu</a>, <a href="https://oscarkjell.se/" class="external-link">Oscar Kjell</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer><div style="text-align: center; margin-top: 1px;">
  <p>
    <a href="https://harmonyresearchgroup.com" target="_blank" class="external-link">
      <img src="reference/figures/harmony_logo_all.png" alt="GitHub" style="height:25px; vertical-align:middle;"></a>
  </p>
</div>


  </body></html>

