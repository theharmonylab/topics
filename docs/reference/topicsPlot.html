<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot word clouds — topicsPlot • topics</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot word clouds — topicsPlot"><meta name="description" content="This function create word clouds and topic figures"><meta property="og:description" content="This function create word clouds and topic figures"><meta property="og:image" content="https://r-topics.org/logo.png"><script defer data-domain="r-talk.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">topics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.65</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/extended_installation_guide.html">Installation</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference API</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/resources.html">Resources</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/theharmonylab/topics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Plot word clouds</h1>
      <small class="dont-index">Source: <a href="https://github.com/theharmonylab/topics/blob/HEAD/R/4_1_topicsPlot.R" class="external-link"><code>R/4_1_topicsPlot.R</code></a></small>
      <div class="d-none name"><code>topicsPlot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function create word clouds and topic figures</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">topicsPlot</span><span class="op">(</span></span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ngrams <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  test <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p_alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  p_adjust_method <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  ngrams_max <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  ngram_select <span class="op">=</span> <span class="st">"prevalence"</span>,</span>
<span>  color_scheme <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  overview_plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  highlight_topic_words <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scale_size <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plot_topics_idx <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  allowed_word_overlap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot_n_most_prevalent_topics <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_dir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  figure_format <span class="op">=</span> <span class="st">"svg"</span>,</span>
<span>  width <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  height <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  max_size <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42</span>,</span>
<span>  scatter_legend_dot_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>  scatter_legend_bg_dot_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  scatter_legend_dots_alpha <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  scatter_legend_bg_dots_alpha <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  scatter_legend_n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  scatter_legend_method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mean"</span><span class="op">)</span>,</span>
<span>  scatter_legend_specified_topics <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scatter_legend_topic_n <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  scatter_show_axis_values <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scatter_legend_circles <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  scatter_legend_circles_radius <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  scatter_legend_circles_num <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  grid_legend_title <span class="op">=</span> <span class="st">"legend_title"</span>,</span>
<span>  grid_legend_title_size <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  grid_legend_title_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>  grid_legend_x_axes_label <span class="op">=</span> <span class="st">"legend_x_axes_label"</span>,</span>
<span>  grid_legend_y_axes_label <span class="op">=</span> <span class="st">"legend_y_axes_label"</span>,</span>
<span>  grid_legend_number_color <span class="op">=</span> <span class="st">"white"</span>,</span>
<span>  grid_legend_number_size <span class="op">=</span> <span class="fl">15</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>(list) A trained topics model, e.g., from topicsModel(). Should be NULL if plotting ngrams.</p></dd>


<dt id="arg-ngrams">ngrams<a class="anchor" aria-label="anchor" href="#arg-ngrams"></a></dt>
<dd><p>(list) The output from the the topicsGram() function. Should be NULL if plotting topics.
Note 1: it is not possible to plot tags like &lt;place&gt;; so the &lt; are replaced with underscore.
Note 2: it is not possible to plot dash - alone, it is replaced with `_-_`.</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>(list) The test results; if plotting according to dimension(s) include the object from topicsTest() function.</p></dd>


<dt id="arg-p-alpha">p_alpha<a class="anchor" aria-label="anchor" href="#arg-p-alpha"></a></dt>
<dd><p>(integer) The p-value threshold to use for significance testing.</p></dd>


<dt id="arg-p-adjust-method">p_adjust_method<a class="anchor" aria-label="anchor" href="#arg-p-adjust-method"></a></dt>
<dd><p>(character) Method to adjust/correct p-values for multiple comparisons (default = "none";
see also "holm", "hochberg", "hommel", "bonferroni", "BH", "BY", "fdr").</p></dd>


<dt id="arg-ngrams-max">ngrams_max<a class="anchor" aria-label="anchor" href="#arg-ngrams-max"></a></dt>
<dd><p>(integer) The maximum number of n-grams to plot.</p></dd>


<dt id="arg-ngram-select">ngram_select<a class="anchor" aria-label="anchor" href="#arg-ngram-select"></a></dt>
<dd><p>(character) Method to select ngrams_max, when using both ngram and test use "prevalence" or "estimate";
if you only use ngrams use "pmi", "frequency", or "prevalence".</p></dd>


<dt id="arg-color-scheme">color_scheme<a class="anchor" aria-label="anchor" href="#arg-color-scheme"></a></dt>
<dd><p>(string 'default' or vector) The color scheme.</p>
<p>For plots not including a test, the color_scheme should in clude 2 colours (1 gradient pair), such as:</p>
<p>c("lightgray", "darkblue)</p>
<p>For 1 dimensional plots of n-grams it should contain 4 colours (2 gradient pairs), such as:</p>
<p>c(
"#EAEAEA", "darkred", # negative ngrams colors</p>
<p>"#EAEAEA", "darkgreen" # positve ngrams colors)</p>


<p>For 1-dimension plots of topics, it should contain 6 colours (3 gradient pairs), such as</p>
<p>c(
"#EAEAEA", "darkred",     # negative topics colors</p>
<p>"#EAEAEA", "darkgray",     # colours of topics not significantly associated</p>
<p>"#EAEAEA", "darkgreen"     # positve topics colors)</p>


<p>For 2-dimensional plots of topics, the color scheme should contain 18 colours (9 gradient pairs), such as:</p>
<p>c(
  "lightgray", "#398CF9",     # quadrant 1 (upper left corner)</p>
<p>"lightgray", "#60A1F7",     # quadrant 2</p>
<p>"lightgray", "#5dc688",     # quadrant 3 (upper right corner)</p>
<p>"lightgray", "#e07f6a",     # quadrant 4</p>
<p>"lightgray", "darkgray",     # quadrant 5 (middle square)</p>
<p>"lightgray", "#40DD52",     # quadrant 6</p>
<p>"lightgray", "#FF0000",     # quadrant 7 (bottom left corner)</p>
<p>"lightgray", "#EA7467",     # quadrant 8</p>
<p>"lightgray", "#85DB8E")     # quadrant 9 (bottom right corner).</p></dd>


<dt id="arg-overview-plot">overview_plot<a class="anchor" aria-label="anchor" href="#arg-overview-plot"></a></dt>
<dd><p>(boolean) Whether to produce an overview plot, including some of the topics and the ditribution (experimental).</p></dd>


<dt id="arg-highlight-topic-words">highlight_topic_words<a class="anchor" aria-label="anchor" href="#arg-highlight-topic-words"></a></dt>
<dd><p>(str vector) Words to highlight in topics (e.g., negative words). Format: highlight_topic_words = c("not", "never"). The default value is NULL.</p></dd>


<dt id="arg-scale-size">scale_size<a class="anchor" aria-label="anchor" href="#arg-scale-size"></a></dt>
<dd><p>(logical) Whether to scale the size of the words.</p></dd>


<dt id="arg-plot-topics-idx">plot_topics_idx<a class="anchor" aria-label="anchor" href="#arg-plot-topics-idx"></a></dt>
<dd><p>(vector)  The index or indices of the topics to plot
(look in the model-object for the indices). They can, for example, be c(1, 3:5) to plot topic t_1, t_3, t_4 and t_5) (optional).</p></dd>


<dt id="arg-allowed-word-overlap">allowed_word_overlap<a class="anchor" aria-label="anchor" href="#arg-allowed-word-overlap"></a></dt>
<dd><p>(numeric) A filter function determining the maximum number of identical words in the topics to be plotted.
This filter removes topics within each "color group" and also include removing topics from the distribution and grid legends;
(Note that the adjustment for multiple comparison is taking place before these are removed; i.e., the adjusted p-values are not affected by this filter).</p></dd>


<dt id="arg-plot-n-most-prevalent-topics">plot_n_most_prevalent_topics<a class="anchor" aria-label="anchor" href="#arg-plot-n-most-prevalent-topics"></a></dt>
<dd><p>(numeric) Plots the n most prevalent topics in a given model.</p></dd>


<dt id="arg-save-dir">save_dir<a class="anchor" aria-label="anchor" href="#arg-save-dir"></a></dt>
<dd><p>(string) The directory to save the plots.</p></dd>


<dt id="arg-figure-format">figure_format<a class="anchor" aria-label="anchor" href="#arg-figure-format"></a></dt>
<dd><p>(string) Set the figure format, e.g., ".svg", or ".png".</p></dd>


<dt id="arg-width">width<a class="anchor" aria-label="anchor" href="#arg-width"></a></dt>
<dd><p>(integer) The width of the topic (units = "in").</p></dd>


<dt id="arg-height">height<a class="anchor" aria-label="anchor" href="#arg-height"></a></dt>
<dd><p>(integer) The width of the topic (units = "in").</p></dd>


<dt id="arg-max-size">max_size<a class="anchor" aria-label="anchor" href="#arg-max-size"></a></dt>
<dd><p>(integer) The maximum size of the words.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>(integer) The seed to set for reproducibility.</p></dd>


<dt id="arg-scatter-legend-dot-size">scatter_legend_dot_size<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-dot-size"></a></dt>
<dd><p>(integer) The size of dots in the scatter legend. If set to "prevalence", the size will change accordingly.</p></dd>


<dt id="arg-scatter-legend-bg-dot-size">scatter_legend_bg_dot_size<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-bg-dot-size"></a></dt>
<dd><p>(integer) The size of background dots in the scatter legend.</p></dd>


<dt id="arg-scatter-legend-dots-alpha">scatter_legend_dots_alpha<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-dots-alpha"></a></dt>
<dd><p>(numeric) The transparency alphe level of the dots.</p></dd>


<dt id="arg-scatter-legend-bg-dots-alpha">scatter_legend_bg_dots_alpha<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-bg-dots-alpha"></a></dt>
<dd><p>(numeric) The transparency alphe level of the background dots.</p></dd>


<dt id="arg-scatter-legend-n">scatter_legend_n<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-n"></a></dt>
<dd><p>(numeric or vector) A vector determining the number of dots to emphasize in each quadrant of the scatter legend.
For example: c(1,1,1,1,0,1,1,1,1) result in one dot in each quadrant except for the middle quadrant.</p></dd>


<dt id="arg-scatter-legend-method">scatter_legend_method<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-method"></a></dt>
<dd><p>(string) The method to filter topics to be emphasized in the scatter legend; either "mean", "max_x", or "max_y".</p></dd>


<dt id="arg-scatter-legend-specified-topics">scatter_legend_specified_topics<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-specified-topics"></a></dt>
<dd><p>(vector) Specify which topic(s) to emphasize in the scatter legend.</p></dd>


<dt id="arg-scatter-legend-topic-n">scatter_legend_topic_n<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-topic-n"></a></dt>
<dd><p>(boolean) If TRUE, the topic numbers are shown in the scatter legend.</p></dd>


<dt id="arg-scatter-show-axis-values">scatter_show_axis_values<a class="anchor" aria-label="anchor" href="#arg-scatter-show-axis-values"></a></dt>
<dd><p>(boolean) If TRUE, the estimate values are shown on the distribution plot axes.</p></dd>


<dt id="arg-scatter-legend-circles">scatter_legend_circles<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-circles"></a></dt>
<dd><p>Plot concentric circles for the scatter legend</p></dd>


<dt id="arg-scatter-legend-circles-radius">scatter_legend_circles_radius<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-circles-radius"></a></dt>
<dd><p>Radius of first concentric circle</p></dd>


<dt id="arg-scatter-legend-circles-num">scatter_legend_circles_num<a class="anchor" aria-label="anchor" href="#arg-scatter-legend-circles-num"></a></dt>
<dd><p>Number of Concentric circles
For example, c("t_1", "t_2"). If set, scatter_legend_method will have no effect.</p></dd>


<dt id="arg-grid-legend-title">grid_legend_title<a class="anchor" aria-label="anchor" href="#arg-grid-legend-title"></a></dt>
<dd><p>Title of the grid topic plot.</p></dd>


<dt id="arg-grid-legend-title-size">grid_legend_title_size<a class="anchor" aria-label="anchor" href="#arg-grid-legend-title-size"></a></dt>
<dd><p>Title size of the grid topic plot.</p></dd>


<dt id="arg-grid-legend-title-color">grid_legend_title_color<a class="anchor" aria-label="anchor" href="#arg-grid-legend-title-color"></a></dt>
<dd><p>Legend title color of the grid topic plot.</p></dd>


<dt id="arg-grid-legend-x-axes-label">grid_legend_x_axes_label<a class="anchor" aria-label="anchor" href="#arg-grid-legend-x-axes-label"></a></dt>
<dd><p>x-axis label of the grid topic plot.</p></dd>


<dt id="arg-grid-legend-y-axes-label">grid_legend_y_axes_label<a class="anchor" aria-label="anchor" href="#arg-grid-legend-y-axes-label"></a></dt>
<dd><p>y-axis label of the grid topic plot.</p></dd>


<dt id="arg-grid-legend-number-color">grid_legend_number_color<a class="anchor" aria-label="anchor" href="#arg-grid-legend-number-color"></a></dt>
<dd><p>Text color in the legend boxes of the grid topic plot.</p></dd>


<dt id="arg-grid-legend-number-size">grid_legend_number_size<a class="anchor" aria-label="anchor" href="#arg-grid-legend-number-size"></a></dt>
<dd><p>Text size in the legend boxes.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The function provides a list of topic plots (if there are any significant topics), a legend plot, and a plot showing the topic distribution.
If save_dir is specified, it saves all plots in this directory.
If you want to show all plots irrespective of the topics' significance, set p_alpha = 1.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://leonackermann.github.io/" class="external-link">Leon Ackermann</a>, <a href="https://portal.research.lu.se/sv/persons/zhuojun-gu" class="external-link">Zhuojun Gu</a>, <a href="https://oscarkjell.se/" class="external-link">Oscar Kjell</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

  </div></footer><div style="text-align: center; margin-top: 1px;">
  <p>
    <a href="https://harmonyresearchgroup.com" target="_blank" class="external-link">
      <img src="reference/figures/harmony_logo_all.png" alt="Harmony Logo" style="height:25px; vertical-align:middle;"></a>
  </p>
</div>


  </body></html>

